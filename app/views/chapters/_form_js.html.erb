 <script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
    <!-- <script src="assets/js/script.js"></script> -->
    <script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js'></script>
<script type='text/javascript' src='https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js'></script>
<script type='text/javascript' src='https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js'></script>

<script type='text/javascript'>$(document).ready(function() {
  $('.select2').select2({
  closeOnSelect: false
  });
  });</script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/js/select2.min.js"></script>
<link href="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.3/css/select2.min.css" rel="stylesheet" />

<script>
  
  Dropzone.autoDiscover = false;
  
  $(document).ready(function(){

    let myDropzone = new Dropzone("#my-awesome-dropzone", {
      paramName: "chapter[images]",
      autoProcessQueue: false,
      uploadMultiple: true,
      maxFilesize: 5, // 5 MB file size limit
      acceptedFiles: ".jpg,.jpeg,.png,.gif", // Accepted file types
      addRemoveLinks: true, // Add remove links to uploaded files
      dictDefaultMessage: "Drop files here or click to upload",
      dictRemoveFile: "Remove",
      successmultiple: function(data,response){
        alert("DONE");
        // $('#my-awesome-dropzone').off('submit').submit();
      }
      // url: "edit_manga_chapter_path(@chapter.manga, @chapter)" // URL to which file data should be sent
    });


    $('body').on('click', '.create-account', function(event){
      if(myDropzone.getQueuedFiles().length > 0){
        event.preventDefault();
        myDropzone.processQueue();
      }
    });
      
    myDropzone.on("addedfile", function (file) {

    const removeButton = Dropzone.createElement(`<h3><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="red" class="bi bi-trash-fill" viewBox="0 0 16 16">
      <path d="M2.5 1a1 1 0 0 0-1 1v1a1 1 0 0 0 1 1H3v9a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2V4h.5a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1H2.5zm3 4a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 .5-.5zM8 5a.5.5 0 0 1 .5.5v7a.5.5 0 0 1-1 0v-7A.5.5 0 0 1 8 5zm3 .5v7a.5.5 0 0 1-1 0v-7a.5.5 0 0 1 1 0z"/>
    </svg></h3>`);
      const parentElement = file.previewElement.querySelector(".dz-details");
      parentElement.appendChild(removeButton);
      removeButton.addEventListener("click", function () {
        myDropzone.removeFile(file);
      });
    });

  });
  
</script>